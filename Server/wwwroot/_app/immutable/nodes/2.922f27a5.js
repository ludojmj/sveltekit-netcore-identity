import{s as ge,n as re,c as Ee,o as je,f as Ye,r as Ke}from"../chunks/scheduler.2adffac9.js";import{S as $e,i as ke,g as p,s as L,h as m,j as v,x as ye,c as P,f as u,k as d,a as S,y as r,B as Qe,m as D,n as y,o as J,e as ve,z as ue,p as We,t as ee,b as Xe,d as te,r as fe,u as de,v as _e,C as Fe,D as De,w as he}from"../chunks/index.20c5aa4d.js";import{t as Ae,a as Ze}from"../chunks/store.70021d33.js";import{c as F,E as xe}from"../chunks/Error.72ece2d3.js";import{a as He,b as et,c as tt}from"../chunks/api.e03da867.js";import{L as at}from"../chunks/Loading.969b3c18.js";import{a as lt,L as st}from"../chunks/Logo.cf80a573.js";function qe(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function ze(l,e,t){const a=l.slice();return a[2]=e[t],a}function rt(l){let e;return{c(){e=D("-")},l(t){e=y(t,"-")},m(t,a){S(t,e,a)},p:re,d(t){t&&u(e)}}}function nt(l){let e=new Date(l[2].createdAt).toLocaleString()+"",t;return{c(){t=D(e)},l(a){t=y(a,e)},m(a,s){S(a,t,s)},p(a,s){s&1&&e!==(e=new Date(a[2].createdAt).toLocaleString()+"")&&J(t,e)},d(a){a&&u(t)}}}function ot(l){let e;return{c(){e=D("-")},l(t){e=y(t,"-")},m(t,a){S(t,e,a)},p:re,d(t){t&&u(e)}}}function ct(l){let e=new Date(l[2].updatedAt).toLocaleString()+"",t;return{c(){t=D(e)},l(a){t=y(a,e)},m(a,s){S(a,t,s)},p(a,s){s&1&&e!==(e=new Date(a[2].updatedAt).toLocaleString()+"")&&J(t,e)},d(a){a&&u(t)}}}function it(l){let e,t,a,s=l[2].user.givenName+"",c,h,_=l[2].user.familyName+"",n;return{c(){e=p("td"),t=D(`Owned by:
            `),a=p("code"),c=D(s),h=L(),n=D(_),this.h()},l(o){e=m(o,"TD",{colspan:!0});var i=v(e);t=y(i,`Owned by:
            `),a=m(i,"CODE",{});var f=v(a);c=y(f,s),h=P(f),n=y(f,_),f.forEach(u),i.forEach(u),this.h()},h(){d(e,"colspan","2")},m(o,i){S(o,e,i),r(e,t),r(e,a),r(a,c),r(a,h),r(a,n)},p(o,i){i&1&&s!==(s=o[2].user.givenName+"")&&J(c,s),i&1&&_!==(_=o[2].user.familyName+"")&&J(n,_)},d(o){o&&u(e)}}}function ut(l){let e,t,a=F.UPDATE+"",s,c,h,_,n,o=F.DELETE+"",i,f;return{c(){e=p("td"),t=p("a"),s=D(a),h=L(),_=p("td"),n=p("a"),i=D(o),this.h()},l(g){e=m(g,"TD",{});var b=v(e);t=m(b,"A",{href:!0,class:!0});var T=v(t);s=y(T,a),T.forEach(u),b.forEach(u),h=P(g),_=m(g,"TD",{});var C=v(_);n=m(C,"A",{href:!0,class:!0});var I=v(n);i=y(I,o),I.forEach(u),C.forEach(u),this.h()},h(){d(t,"href",c=`/${l[2].id}/${F.UPDATE}`),d(t,"class","btn btn-warning"),d(n,"href",f=`/${l[2].id}/${F.DELETE}`),d(n,"class","btn btn-danger")},m(g,b){S(g,e,b),r(e,t),r(t,s),S(g,h,b),S(g,_,b),r(_,n),r(n,i)},p(g,b){b&1&&c!==(c=`/${g[2].id}/${F.UPDATE}`)&&d(t,"href",c),b&1&&f!==(f=`/${g[2].id}/${F.DELETE}`)&&d(n,"href",f)},d(g){g&&(u(e),u(h),u(_))}}}function Ge(l){let e,t,a=l[2].label+"",s,c,h,_=l[2].description+"",n,o,i,f,g,b,T,C,I,A,ne=F.READ+"",Y,K,H,U,Q,q;function ae($,E){return $[2].createdAt?nt:rt}let W=ae(l),N=W(l);function le($,E){return $[2].updatedAt?ct:ot}let X=le(l),w=X(l);function R($,E){return $[2].user.id===$[1].idTokenPayload.sub?ut:it}let Z=R(l),O=Z(l);return{c(){e=p("tr"),t=p("td"),s=D(a),c=L(),h=p("td"),n=D(_),o=L(),i=p("td"),f=p("code"),N.c(),g=L(),b=p("td"),T=p("code"),w.c(),C=L(),I=p("td"),A=p("a"),Y=D(ne),H=L(),O.c(),U=L(),this.h()},l($){e=m($,"TR",{id:!0,class:!0});var E=v(e);t=m(E,"TD",{"data-label":!0});var z=v(t);s=y(z,a),z.forEach(u),c=P(E),h=m(E,"TD",{"data-label":!0});var pe=v(h);n=y(pe,_),pe.forEach(u),o=P(E),i=m(E,"TD",{"data-label":!0});var oe=v(i);f=m(oe,"CODE",{});var ce=v(f);N.l(ce),ce.forEach(u),oe.forEach(u),g=P(E),b=m(E,"TD",{"data-label":!0});var j=v(b);T=m(j,"CODE",{});var G=v(T);w.l(G),G.forEach(u),j.forEach(u),C=P(E),I=m(E,"TD",{});var se=v(I);A=m(se,"A",{href:!0,class:!0});var M=v(A);Y=y(M,ne),M.forEach(u),se.forEach(u),H=P(E),O.l(E),U=P(E),E.forEach(u),this.h()},h(){d(t,"data-label","Label"),d(h,"data-label","Description"),d(i,"data-label","createdAt"),d(b,"data-label","updatedAt"),d(A,"href",K=`/${l[2].id}/${F.READ}`),d(A,"class","btn btn-secondary"),d(e,"id",Q=l[2].id),d(e,"class",q=l[2].user.id===l[1].idTokenPayload.sub?"table-success":"table-danger")},m($,E){S($,e,E),r(e,t),r(t,s),r(e,c),r(e,h),r(h,n),r(e,o),r(e,i),r(i,f),N.m(f,null),r(e,g),r(e,b),r(b,T),w.m(T,null),r(e,C),r(e,I),r(I,A),r(A,Y),r(e,H),O.m(e,null),r(e,U)},p($,E){E&1&&a!==(a=$[2].label+"")&&J(s,a),E&1&&_!==(_=$[2].description+"")&&J(n,_),W===(W=ae($))&&N?N.p($,E):(N.d(1),N=W($),N&&(N.c(),N.m(f,null))),X===(X=le($))&&w?w.p($,E):(w.d(1),w=X($),w&&(w.c(),w.m(T,null))),E&1&&K!==(K=`/${$[2].id}/${F.READ}`)&&d(A,"href",K),Z===(Z=R($))&&O?O.p($,E):(O.d(1),O=Z($),O&&(O.c(),O.m(e,U))),E&1&&Q!==(Q=$[2].id)&&d(e,"id",Q),E&3&&q!==(q=$[2].user.id===$[1].idTokenPayload.sub?"table-success":"table-danger")&&d(e,"class",q)},d($){$&&u(e),N.d(),w.d(),O.d()}}}function ft(l){let e,t,a=".List of stuff",s,c,h='<tr><th scope="col">Label</th> <th scope="col">Description</th> <th scope="col">CreatedAt</th> <th scope="col">UpdatedAt</th> <th colspan="3"></th></tr>',_,n,o=qe(l[0].datumList||[]),i=[];for(let f=0;f<o.length;f+=1)i[f]=Ge(ze(l,o,f));return{c(){e=p("table"),t=p("caption"),t.textContent=a,s=L(),c=p("thead"),c.innerHTML=h,_=L(),n=p("tbody");for(let f=0;f<i.length;f+=1)i[f].c();this.h()},l(f){e=m(f,"TABLE",{class:!0,summary:!0});var g=v(e);t=m(g,"CAPTION",{"data-svelte-h":!0}),ye(t)!=="svelte-iklysz"&&(t.textContent=a),s=P(g),c=m(g,"THEAD",{"data-svelte-h":!0}),ye(c)!=="svelte-xbps9l"&&(c.innerHTML=h),_=P(g),n=m(g,"TBODY",{});var b=v(n);for(let T=0;T<i.length;T+=1)i[T].l(b);b.forEach(u),g.forEach(u),this.h()},h(){d(e,"class","table table-striped table-hover"),d(e,"summary","List of stuff")},m(f,g){S(f,e,g),r(e,t),r(e,s),r(e,c),r(e,_),r(e,n);for(let b=0;b<i.length;b+=1)i[b]&&i[b].m(n,null)},p(f,[g]){if(g&3){o=qe(f[0].datumList||[]);let b;for(b=0;b<o.length;b+=1){const T=ze(f,o,b);i[b]?i[b].p(T,g):(i[b]=Ge(T),i[b].c(),i[b].m(n,null))}for(;b<i.length;b+=1)i[b].d(1);i.length=o.length}},i:re,o:re,d(f){f&&u(e),Qe(i,f)}}}function dt(l,e,t){let a;Ee(l,Ae,c=>t(1,a=c));let{stuff:s}=e;return l.$$set=c=>{"stuff"in c&&t(0,s=c.stuff)},[s,a]}class _t extends $e{constructor(e){super(),ke(this,e,dt,ft,ge,{stuff:0})}}function Je(l){let e,t,a,s,c=l[0].accessTokenPayload.name+"",h,_,n;return{c(){e=p("button"),t=p("span"),a=D(`Logout  

      `),s=p("span"),h=D(c),this.h()},l(o){e=m(o,"BUTTON",{class:!0});var i=v(e);t=m(i,"SPAN",{});var f=v(t);a=y(f,`Logout  

      `),s=m(f,"SPAN",{class:!0});var g=v(s);h=y(g,c),g.forEach(u),f.forEach(u),i.forEach(u),this.h()},h(){d(s,"class","badge bg-primary"),d(e,"class","btn btn-danger")},m(o,i){S(o,e,i),r(e,t),r(t,a),r(t,s),r(s,h),_||(n=ue(e,"click",l[1]),_=!0)},p(o,i){i&1&&c!==(c=o[0].accessTokenPayload.name+"")&&J(h,c)},d(o){o&&u(e),_=!1,n()}}}function ht(l){let e,t=l[0]&&Je(l);return{c(){t&&t.c(),e=ve()},l(a){t&&t.l(a),e=ve()},m(a,s){t&&t.m(a,s),S(a,e,s)},p(a,[s]){a[0]?t?t.p(a,s):(t=Je(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:re,o:re,d(a){a&&u(e),t&&t.d(a)}}}function pt(l,e,t){let a;return Ee(l,Ae,c=>t(0,a=c)),[a,async()=>await lt()]}class mt extends $e{constructor(e){super(),ke(this,e,pt,ht,ge,{})}}function bt(l){let e,t,a,s,c,h,_,n,o,i,f,g="Search",b,T,C,I,A,ne,Y,K,H,U,Q,q=(l[1].page?l[1].page:0)+"",ae,W,N=(l[1].totalPages?l[1].totalPages:0)+"",le,X,w,R,Z,O,$,E,z,pe=F.CREATE+"",oe,ce,j,G,se,M,x,Te,Le;return c=new st({}),G=new mt({}),M=new _t({props:{stuff:l[1]}}),{c(){e=p("form"),t=p("div"),a=p("div"),s=p("button"),fe(c.$$.fragment),h=L(),_=p("div"),n=p("div"),o=p("input"),i=L(),f=p("button"),f.textContent=g,b=L(),T=p("div"),C=p("ul"),I=p("li"),A=p("button"),ne=D("«"),K=L(),H=p("li"),U=p("div"),Q=D("Page "),ae=D(q),W=D("/"),le=D(N),X=L(),w=p("li"),R=p("button"),Z=D("»"),$=L(),E=p("div"),z=p("a"),oe=D(pe),ce=L(),j=p("div"),fe(G.$$.fragment),se=L(),fe(M.$$.fragment),this.h()},l(k){e=m(k,"FORM",{});var B=v(e);t=m(B,"DIV",{class:!0});var V=v(t);a=m(V,"DIV",{class:!0});var Pe=v(a);s=m(Pe,"BUTTON",{type:!0,class:!0});var we=v(s);de(c.$$.fragment,we),we.forEach(u),Pe.forEach(u),h=P(V),_=m(V,"DIV",{class:!0});var Ce=v(_);n=m(Ce,"DIV",{class:!0});var be=v(n);o=m(be,"INPUT",{class:!0,type:!0,placeholder:!0,"aria-label":!0,maxlength:!0}),i=P(be),f=m(be,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ye(f)!=="svelte-1qoseas"&&(f.textContent=g),be.forEach(u),Ce.forEach(u),b=P(V),T=m(V,"DIV",{class:!0});var Ne=v(T);C=m(Ne,"UL",{class:!0});var ie=v(C);I=m(ie,"LI",{class:!0});var Oe=v(I);A=m(Oe,"BUTTON",{class:!0});var Se=v(A);ne=y(Se,"«"),Se.forEach(u),Oe.forEach(u),K=P(ie),H=m(ie,"LI",{class:!0});var Ie=v(H);U=m(Ie,"DIV",{class:!0});var me=v(U);Q=y(me,"Page "),ae=y(me,q),W=y(me,"/"),le=y(me,N),me.forEach(u),Ie.forEach(u),X=P(ie),w=m(ie,"LI",{class:!0});var Ue=v(w);R=m(Ue,"BUTTON",{class:!0});var Re=v(R);Z=y(Re,"»"),Re.forEach(u),Ue.forEach(u),ie.forEach(u),Ne.forEach(u),$=P(V),E=m(V,"DIV",{class:!0});var Be=v(E);z=m(Be,"A",{href:!0,class:!0});var Ve=v(z);oe=y(Ve,pe),Ve.forEach(u),Be.forEach(u),ce=P(V),j=m(V,"DIV",{class:!0});var Me=v(j);de(G.$$.fragment,Me),Me.forEach(u),V.forEach(u),B.forEach(u),se=P(k),de(M.$$.fragment,k),this.h()},h(){d(s,"type","reset"),d(s,"class","btn"),d(a,"class","col"),d(o,"class","form-control"),d(o,"type","search"),d(o,"placeholder","Filter"),d(o,"aria-label","Filter"),d(o,"maxlength","20"),d(f,"class","btn btn-outline-secondary"),d(f,"type","submit"),d(n,"class","input-group"),d(_,"class","col"),d(A,"class","btn btn-primary"),A.value="-",A.disabled=Y=!l[1].page||l[1].page===1,d(I,"class","page-item"),d(U,"class","form-control"),d(H,"class","page-item"),d(R,"class","btn btn-primary"),R.value="+",R.disabled=O=l[1].page===l[1].totalPages,d(w,"class","page-item"),d(C,"class","pagination"),d(T,"class","col"),d(z,"href",`/${F.CREATE}`),d(z,"class","btn btn-success"),d(E,"class","col"),d(j,"class","col"),d(t,"class","row")},m(k,B){S(k,e,B),r(e,t),r(t,a),r(a,s),_e(c,s,null),r(t,h),r(t,_),r(_,n),r(n,o),Fe(o,l[0]),r(n,i),r(n,f),r(t,b),r(t,T),r(T,C),r(C,I),r(I,A),r(A,ne),r(C,K),r(C,H),r(H,U),r(U,Q),r(U,ae),r(U,W),r(U,le),r(C,X),r(C,w),r(w,R),r(R,Z),r(t,$),r(t,E),r(E,z),r(z,oe),r(t,ce),r(t,j),_e(G,j,null),S(k,se,B),_e(M,k,B),x=!0,Te||(Le=[ue(s,"click",l[4]),ue(o,"input",l[7]),Ye(l[3].call(null,o)),ue(A,"click",De(l[6])),ue(R,"click",De(l[6])),ue(e,"submit",De(l[5]))],Te=!0)},p(k,B){B&1&&o.value!==k[0]&&Fe(o,k[0]),(!x||B&2&&Y!==(Y=!k[1].page||k[1].page===1))&&(A.disabled=Y),(!x||B&2)&&q!==(q=(k[1].page?k[1].page:0)+"")&&J(ae,q),(!x||B&2)&&N!==(N=(k[1].totalPages?k[1].totalPages:0)+"")&&J(le,N),(!x||B&2&&O!==(O=k[1].page===k[1].totalPages))&&(R.disabled=O);const V={};B&2&&(V.stuff=k[1]),M.$set(V)},i(k){x||(te(c.$$.fragment,k),te(G.$$.fragment,k),te(M.$$.fragment,k),x=!0)},o(k){ee(c.$$.fragment,k),ee(G.$$.fragment,k),ee(M.$$.fragment,k),x=!1},d(k){k&&(u(e),u(se)),he(c),he(G),he(M,k),Te=!1,Ke(Le)}}}function vt(l){let e,t;return e=new xe({props:{msgErr:l[1].error,hasReset:!1}}),{c(){fe(e.$$.fragment)},l(a){de(e.$$.fragment,a)},m(a,s){_e(e,a,s),t=!0},p(a,s){const c={};s&2&&(c.msgErr=a[1].error),e.$set(c)},i(a){t||(te(e.$$.fragment,a),t=!0)},o(a){ee(e.$$.fragment,a),t=!1},d(a){he(e,a)}}}function gt(l){let e,t;return e=new at({}),{c(){fe(e.$$.fragment)},l(a){de(e.$$.fragment,a)},m(a,s){_e(e,a,s),t=!0},p:re,i(a){t||(te(e.$$.fragment,a),t=!0)},o(a){ee(e.$$.fragment,a),t=!1},d(a){he(e,a)}}}function Et(l){let e,t,a,s;const c=[gt,vt,bt],h=[];function _(n,o){return n[2]?0:n[1].error?1:2}return e=_(l),t=h[e]=c[e](l),{c(){t.c(),a=ve()},l(n){t.l(n),a=ve()},m(n,o){h[e].m(n,o),S(n,a,o),s=!0},p(n,[o]){let i=e;e=_(n),e===i?h[e].p(n,o):(We(),ee(h[i],1,1,()=>{h[i]=null}),Xe(),t=h[e],t?t.p(n,o):(t=h[e]=c[e](n),t.c()),te(t,1),t.m(a.parentNode,a))},i(n){s||(te(t),s=!0)},o(n){ee(t),s=!1},d(n){n&&u(a),h[e].d(n)}}}function $t(l,e,t){let a;Ee(l,Ze,f=>t(2,a=f));let s="",c={};je(async()=>{t(1,c=await He())});const h=f=>{f.focus()},_=async()=>{t(0,s=""),t(1,c=await He())},n=async()=>{if(s){t(1,c=await et(s));return}_()},o=async f=>{t(0,s="");const g=f.currentTarget.value==="+"?c.page+1:c.page-1;t(1,c=await tt(g))};function i(){s=this.value,t(0,s)}return[s,c,a,h,_,n,o,i]}class kt extends $e{constructor(e){super(),ke(this,e,$t,Et,ge,{})}}function Tt(l){let e,t,a,s,c=JSON.stringify(l[0],null,"	")+"",h,_;return t=new kt({}),{c(){e=p("section"),fe(t.$$.fragment),a=L(),s=p("pre"),h=D(c),this.h()},l(n){e=m(n,"SECTION",{class:!0});var o=v(e);de(t.$$.fragment,o),a=P(o),s=m(o,"PRE",{});var i=v(s);h=y(i,c),i.forEach(u),o.forEach(u),this.h()},h(){d(e,"class","section")},m(n,o){S(n,e,o),_e(t,e,null),r(e,a),r(e,s),r(s,h),_=!0},p(n,[o]){(!_||o&1)&&c!==(c=JSON.stringify(n[0],null,"	")+"")&&J(h,c)},i(n){_||(te(t.$$.fragment,n),_=!0)},o(n){ee(t.$$.fragment,n),_=!1},d(n){n&&u(e),he(t)}}}function Dt(l,e,t){let a;return Ee(l,Ae,s=>t(0,a=s)),[a]}class Ot extends $e{constructor(e){super(),ke(this,e,Dt,Tt,ge,{})}}export{Ot as component};
