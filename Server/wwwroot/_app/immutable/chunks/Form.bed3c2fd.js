import{s as me,c as ue,o as de,f as pe,r as be,n as he}from"./scheduler.2adffac9.js";import{S as _e,i as ge,e as ie,a as ce,p as Ee,t as H,b as ve,d as M,f as U,g as E,m as Ce,s as C,r as Z,h as v,j,n as ke,c as k,x as F,u as x,k as n,y as u,C as S,v as ee,z as D,D as B,o as Ae,w as te}from"./index.20c5aa4d.js";import{d as Le}from"./singletons.57e92850.js";import{a as Te}from"./store.70021d33.js";import{c as L,E as fe}from"./Error.72ece2d3.js";import{g as ye,d as we,e as De}from"./api.e03da867.js";import{L as Re}from"./Loading.969b3c18.js";const Ie=()=>{const r=Le;return{page:{subscribe:r.page.subscribe},navigating:{subscribe:r.navigating.subscribe},updated:r.updated}},Ne={subscribe(r){return Ie().page.subscribe(r)}},Oe=r=>{r.focus()},z=r=>{r.code=="Escape"&&ye("/")},Fe=(r,e,t)=>r!==L.READ&&r!==L.DELETE&&JSON.stringify(e)===JSON.stringify(t)?"No significant changes...":"";function Se(r){let e,t,a,f,p,i,R=".",s,g,d,$="Owner:",P,b,I,q,c,re="Label:",J,m,X,y,ae="Description:",G,h,K,w,se="Other info:",Q,_,V,O,le='<a href="/" class="btn btn-danger">Cancel</a> <button class="btn btn-success" type="submit">Confirm</button>',W,T,A,Y,ne;return T=new fe({props:{msgErr:r[3],hasReset:!1}}),T.$on("click",r[9]),{c(){e=E("form"),t=E("header"),a=E("h5"),f=Ce(r[0]),p=C(),i=E("a"),i.textContent=R,g=C(),d=E("label"),d.textContent=$,P=C(),b=E("input"),q=C(),c=E("label"),c.textContent=re,J=C(),m=E("input"),X=C(),y=E("label"),y.textContent=ae,G=C(),h=E("input"),K=C(),w=E("label"),w.textContent=se,Q=C(),_=E("textarea"),V=C(),O=E("footer"),O.innerHTML=le,W=C(),Z(T.$$.fragment),this.h()},l(o){e=v(o,"FORM",{class:!0});var l=j(e);t=v(l,"HEADER",{class:!0});var N=j(t);a=v(N,"H5",{class:!0});var oe=j(a);f=ke(oe,r[0]),oe.forEach(U),p=k(N),i=v(N,"A",{href:!0,class:!0,"data-svelte-h":!0}),F(i)!=="svelte-1lwq8t1"&&(i.textContent=R),N.forEach(U),g=k(l),d=v(l,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),F(d)!=="svelte-lwwsqu"&&(d.textContent=$),P=k(l),b=v(l,"INPUT",{class:!0,type:!0,id:!0,name:!0,"aria-label":!0}),q=k(l),c=v(l,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),F(c)!=="svelte-66c0a4"&&(c.textContent=re),J=k(l),m=v(l,"INPUT",{minlength:!0,maxlength:!0,class:!0,type:!0,maxlength:!0,placeholder:!0}),X=k(l),y=v(l,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),F(y)!=="svelte-rlvfz0"&&(y.textContent=ae),G=k(l),h=v(l,"INPUT",{class:!0,type:!0,maxlength:!0,placeholder:!0}),K=k(l),w=v(l,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),F(w)!=="svelte-16g1lb4"&&(w.textContent=se),Q=k(l),_=v(l,"TEXTAREA",{class:!0,rows:!0,maxlength:!0,placeholder:!0}),j(_).forEach(U),V=k(l),O=v(l,"FOOTER",{"data-svelte-h":!0}),F(O)!=="svelte-1etlg5m"&&(O.innerHTML=le),W=k(l),x(T.$$.fragment,l),l.forEach(U),this.h()},h(){n(a,"class","modal-title"),n(i,"href","/"),n(i,"class","btn-close"),n(t,"class",s="modal-header alert "+(r[0]===L.CREATE&&"alert-success"||r[0]===L.READ&&"alert-dark"||r[0]===L.UPDATE&&"alert-warning"||r[0]===L.DELETE&&"alert-danger")),n(d,"class","form-label"),n(d,"for","user"),n(b,"class","form-control fw-bold"),n(b,"type","text"),n(b,"id","user"),n(b,"name","user"),b.value=I=r[2].user?r[2].user.givenName:"Current user",n(b,"aria-label","User"),b.disabled=!0,n(c,"class","form-label"),n(c,"for","label"),n(m,"minlength","3"),n(m,"maxlength","80"),m.required=!0,n(m,"class","form-control"),n(m,"type","text"),n(m,"maxlength","79"),n(m,"placeholder","Label"),m.disabled=r[1],n(y,"class","form-label"),n(y,"for","description"),n(h,"class","form-control"),n(h,"type","text"),n(h,"maxlength","79"),n(h,"placeholder","Description"),h.disabled=r[1],n(w,"class","form-label"),n(w,"for","otherInfo"),n(_,"class","form-control"),n(_,"rows","5"),n(_,"maxlength","399"),n(_,"placeholder","Other info"),_.disabled=r[1],n(e,"class","alert alert-secondary")},m(o,l){ce(o,e,l),u(e,t),u(t,a),u(a,f),u(t,p),u(t,i),u(e,g),u(e,d),u(e,P),u(e,b),u(e,q),u(e,c),u(e,J),u(e,m),S(m,r[2].label),u(e,X),u(e,y),u(e,G),u(e,h),S(h,r[2].description),u(e,K),u(e,w),u(e,Q),u(e,_),S(_,r[2].otherInfo),u(e,V),u(e,O),u(e,W),ee(T,e,null),A=!0,Y||(ne=[D(b,"keyup",B(z)),D(m,"keyup",B(z)),D(m,"input",r[6]),pe(Oe.call(null,m)),D(h,"keyup",B(z)),D(h,"input",r[7]),D(_,"keyup",B(z)),D(_,"input",r[8]),D(e,"submit",B(r[5]))],Y=!0)},p(o,l){(!A||l&1)&&Ae(f,o[0]),(!A||l&1&&s!==(s="modal-header alert "+(o[0]===L.CREATE&&"alert-success"||o[0]===L.READ&&"alert-dark"||o[0]===L.UPDATE&&"alert-warning"||o[0]===L.DELETE&&"alert-danger")))&&n(t,"class",s),(!A||l&4&&I!==(I=o[2].user?o[2].user.givenName:"Current user")&&b.value!==I)&&(b.value=I),(!A||l&2)&&(m.disabled=o[1]),l&4&&m.value!==o[2].label&&S(m,o[2].label),(!A||l&2)&&(h.disabled=o[1]),l&4&&h.value!==o[2].description&&S(h,o[2].description),(!A||l&2)&&(_.disabled=o[1]),l&4&&S(_,o[2].otherInfo);const N={};l&8&&(N.msgErr=o[3]),T.$set(N)},i(o){A||(M(T.$$.fragment,o),A=!0)},o(o){H(T.$$.fragment,o),A=!1},d(o){o&&U(e),te(T),Y=!1,be(ne)}}}function Ue(r){let e,t;return e=new fe({props:{msgErr:r[2].error,hasReset:!0}}),{c(){Z(e.$$.fragment)},l(a){x(e.$$.fragment,a)},m(a,f){ee(e,a,f),t=!0},p(a,f){const p={};f&4&&(p.msgErr=a[2].error),e.$set(p)},i(a){t||(M(e.$$.fragment,a),t=!0)},o(a){H(e.$$.fragment,a),t=!1},d(a){te(e,a)}}}function Pe(r){let e,t;return e=new Re({}),{c(){Z(e.$$.fragment)},l(a){x(e.$$.fragment,a)},m(a,f){ee(e,a,f),t=!0},p:he,i(a){t||(M(e.$$.fragment,a),t=!0)},o(a){H(e.$$.fragment,a),t=!1},d(a){te(e,a)}}}function qe(r){let e,t,a,f;const p=[Pe,Ue,Se],i=[];function R(s,g){return s[4]?0:s[2]&&s[2].error?1:2}return e=R(r),t=i[e]=p[e](r),{c(){t.c(),a=ie()},l(s){t.l(s),a=ie()},m(s,g){i[e].m(s,g),ce(s,a,g),f=!0},p(s,[g]){let d=e;e=R(s),e===d?i[e].p(s,g):(Ee(),H(i[d],1,1,()=>{i[d]=null}),ve(),t=i[e],t?t.p(s,g):(t=i[e]=p[e](s),t.c()),M(t,1),t.m(a.parentNode,a))},i(s){f||(M(t),f=!0)},o(s){H(t),f=!1},d(s){s&&U(a),i[e].d(s)}}}function Be(r,e,t){let a,f;ue(r,Ne,c=>t(11,a=c)),ue(r,Te,c=>t(4,f=c));let{crudTitle:p,disabled:i}=e;const R=a.params.id;let s={},g={};de(async()=>{const c=await we(p,R);t(2,s=c.item),g=c.initialItem});let d="";const $=async()=>{t(3,d=Fe(p,s,g)),!d&&t(2,s=await De(p,s))};function P(){s.label=this.value,t(2,s)}function b(){s.description=this.value,t(2,s)}function I(){s.otherInfo=this.value,t(2,s)}const q=()=>t(3,d="");return r.$$set=c=>{"crudTitle"in c&&t(0,p=c.crudTitle),"disabled"in c&&t(1,i=c.disabled)},[p,i,s,d,f,$,P,b,I,q]}class Ge extends _e{constructor(e){super(),ge(this,e,Be,qe,me,{crudTitle:0,disabled:1})}}export{Ge as F};
